{"ast":null,"code":"var _jsxFileName = \"D:\\\\2ND YEAR\\\\2-1 sem\\\\MSWD\\\\SDP\\\\MERN-Stack-todo-website-master\\\\MERN-Stack-todo-website-master\\\\client\\\\src\\\\components\\\\todos\\\\Todos.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useImmer } from 'use-immer';\nimport { ToastContainer } from 'react-toastify';\nimport { getTodos } from \"../../services/todosServices\";\nimport NotFound from \"../NotFound\";\nimport AddTodo from \"./AddTodo\";\nimport todosContext from \"../../context/todosContext\";\nimport Todo from \"./Todo\";\nimport Loading from \"./Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Todos = () => {\n  _s();\n\n  const [todos, setTodos] = useImmer([]);\n  const [loading, setLoading] = useImmer(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const action = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) return navigate('/login');\n        setLoading(true);\n        const allTodos = await getTodos(token);\n        setTodos(draft => draft = allTodos.data);\n        setLoading(false);\n      } catch (err) {\n        setLoading(false);\n        if (err.response.status === 404) return navigate('/login');\n      }\n    };\n\n    action();\n  }, []);\n\n  const logOut = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  return /*#__PURE__*/_jsxDEV(todosContext.Provider, {\n    value: {\n      todos,\n      setTodos,\n      setLoading\n    },\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-center\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"vh-100\",\n      style: {\n        backgroundColor: `#gray`,\n        paddingTop: 100\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-sign-out signout\",\n        id: \"sign-out\",\n        title: \"log-out\",\n        onClick: logOut\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container py-5\",\n        style: {\n          minHeight: 300\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row d-flex justify-content-center align-items-center h-100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col col-xl-10\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              style: {\n                borderRadius: 15\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body p-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"mb-3\",\n                  children: \"Todo List Website\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(AddTodo, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 37\n                }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 48\n                }, this) : todos.length < 1 ? /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 81\n                }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-group mb-0\",\n                  children: todos.map((item, index) => {\n                    return /*#__PURE__*/_jsxDEV(Todo, {\n                      data: item\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 53\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Todos, \"8Nf5vG4jX/7MpMVNrbBLfqHLIAs=\", false, function () {\n  return [useImmer, useImmer, useNavigate];\n});\n\n_c = Todos;\nexport default Todos;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todos\");","map":{"version":3,"names":["useEffect","useNavigate","useImmer","ToastContainer","getTodos","NotFound","AddTodo","todosContext","Todo","Loading","Todos","todos","setTodos","loading","setLoading","navigate","action","token","localStorage","getItem","allTodos","draft","data","err","response","status","logOut","removeItem","backgroundColor","paddingTop","minHeight","borderRadius","length","map","item","index"],"sources":["D:/2ND YEAR/2-1 sem/MSWD/SDP/MERN-Stack-todo-website-master/MERN-Stack-todo-website-master/client/src/components/todos/Todos.jsx"],"sourcesContent":["import { useEffect } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { useImmer } from 'use-immer'\r\nimport { ToastContainer} from 'react-toastify';\r\n\r\nimport { getTodos } from \"../../services/todosServices\"\r\nimport NotFound from \"../NotFound\"\r\nimport AddTodo from \"./AddTodo\"\r\n\r\nimport todosContext from \"../../context/todosContext\"\r\n\r\nimport Todo from \"./Todo\"\r\nimport Loading from \"./Loading\"\r\n\r\n\r\nconst Todos = () => {\r\n\r\n    const [todos, setTodos] = useImmer([])\r\n    const [loading, setLoading] = useImmer(false)\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        const action = async () => {\r\n            try {\r\n\r\n                const token = localStorage.getItem('token')\r\n                if (!token) return navigate('/login')\r\n                setLoading(true)\r\n                const allTodos = await getTodos(token)\r\n                setTodos(draft => draft = allTodos.data)\r\n                setLoading(false)\r\n            } catch (err) {\r\n                setLoading(false)\r\n                if (err.response.status === 404) return navigate('/login')\r\n            }\r\n        }\r\n\r\n        action()\r\n    }, [])\r\n\r\n    const logOut = () => {\r\n        localStorage.removeItem('token')\r\n        navigate('/login')\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <todosContext.Provider value={{\r\n            todos,\r\n            setTodos,\r\n            setLoading,\r\n        }}>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={5000}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <section className=\"vh-100\" style={{ backgroundColor: `#gray`, paddingTop: 100 }}>\r\n                <i className=\"fa fa-sign-out signout\" id=\"sign-out\" title=\"log-out\" onClick={logOut}></i>\r\n                <div className=\"container py-5\" style={{ minHeight: 300 }}>\r\n                    <div className=\"row d-flex justify-content-center align-items-center h-100\">\r\n                        <div className=\"col col-xl-10\">\r\n                            <div className=\"card\" style={{ borderRadius: 15 }}>\r\n                                <div className=\"card-body p-5\">\r\n                                    <h4 className=\"mb-3\">Todo List Website</h4>\r\n                                    <AddTodo />\r\n                                    {loading ? <Loading /> : todos.length < 1 ? <NotFound /> : (\r\n                                        <ul className=\"list-group mb-0\">\r\n                                            {todos.map((item, index) => {\r\n                                                return (\r\n                                                    <Todo key={index} data={item} />\r\n                                                )\r\n                                            })}\r\n                                        </ul>\r\n                                    )}\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </todosContext.Provider>\r\n    )\r\n}\r\n\r\nexport default Todos"],"mappings":"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"},"metadata":{},"sourceType":"module"}