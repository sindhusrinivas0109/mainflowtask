{"ast":null,"code":"var _jsxFileName = \"D:\\\\2ND YEAR\\\\2-1 sem\\\\MSWD\\\\SDP\\\\MERN-Stack-todo-website-master\\\\MERN-Stack-todo-website-master\\\\client\\\\src\\\\components\\\\todos\\\\Todo.jsx\",\n    _s = $RefreshSig$();\n\nimport { useContext } from \"react\";\nimport { useImmer } from \"use-immer\";\nimport { toast } from \"react-toastify\";\nimport TodosContext from \"../../context/todosContext\";\nimport { deleteTodo, editTodo } from \"../../services/todosServices\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Todo = _ref => {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const {\n    todos,\n    setTodos\n  } = useContext(TodosContext);\n  const [checked, setChecked] = useImmer(data.checked);\n\n  const check = async () => {\n    try {\n      const result = await editTodo(data._id, localStorage.getItem('token'));\n\n      if (result.status === 200) {\n        setTodos(draft => {\n          draft = result.data;\n        });\n        setChecked(draft => !draft);\n      }\n    } catch (err) {\n      console.log(err.response.data);\n    }\n  };\n\n  const removeTodo = async () => {\n    const allTodos = [...todos];\n\n    try {\n      setTodos(draft => draft.filter(todo => todo._id !== data._id));\n      const result = await deleteTodo(data._id, localStorage.getItem('token'));\n      toast.info('Todo deleted successfully', {\n        icon: 'ðŸ’£'\n      });\n\n      if (result.status !== 200) {\n        setTodos(allTodos);\n      }\n    } catch (err) {\n      setTodos(allTodos);\n      console.log(err.response.data);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"cursor list-group-item d-flex justify-content-between align-items-center border-start-0 border-top-0 border-end-0 border-bottom rounded-0 mb-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex align-items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        style: {\n          textDecoration: checked ? 'line-through' : 'none'\n        },\n        onClick: check,\n        children: data.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: removeTodo,\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        style: {\n          color: 'blue'\n        },\n        className: \" fa fa-trash-alt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Todo, \"yLZ/1SO23pNbaJuXeJC6Prju8cE=\", false, function () {\n  return [useImmer];\n});\n\n_c = Todo;\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"names":["useContext","useImmer","toast","TodosContext","deleteTodo","editTodo","Todo","data","todos","setTodos","checked","setChecked","check","result","_id","localStorage","getItem","status","draft","err","console","log","response","removeTodo","allTodos","filter","todo","info","icon","textDecoration","title","color"],"sources":["D:/2ND YEAR/2-1 sem/MSWD/SDP/MERN-Stack-todo-website-master/MERN-Stack-todo-website-master/client/src/components/todos/Todo.jsx"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { useImmer } from \"use-immer\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nimport TodosContext from \"../../context/todosContext\";\r\nimport { deleteTodo, editTodo } from \"../../services/todosServices\";\r\n\r\nconst Todo = ({data}) => {\r\n\r\n    const {todos,setTodos}=useContext(TodosContext)\r\n\r\n    const [checked,setChecked]=useImmer(data.checked)\r\n\r\n    const check=async()=> {\r\n        try{\r\n            const result=await editTodo(data._id,localStorage.getItem('token'))\r\n            if(result.status===200){\r\n                setTodos(draft=>{\r\n                    draft=result.data\r\n                })\r\n                setChecked(draft=>!draft)\r\n            }\r\n        }catch(err){\r\n            console.log(err.response.data);\r\n        }\r\n    }\r\n\r\n    const removeTodo = async()=> {\r\n        const allTodos=[...todos]\r\n        try{\r\n            setTodos(draft=>draft.filter(todo=>todo._id!==data._id))\r\n\r\n            const result=await deleteTodo(data._id,localStorage.getItem('token'))\r\n            toast.info('Todo deleted successfully',{icon:'ðŸ’£'})\r\n            if (result.status!==200){\r\n                setTodos(allTodos)\r\n            } \r\n        }catch(err){\r\n            setTodos(allTodos)\r\n            console.log(err.response.data);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li className=\"cursor list-group-item d-flex justify-content-between align-items-center border-start-0 border-top-0 border-end-0 border-bottom rounded-0 mb-2\">\r\n            <div className=\"d-flex align-items-center\">\r\n                <h6 style={{textDecoration:checked?'line-through':'none'}} onClick={check}>{data.title}</h6>\r\n            </div>\r\n            <span onClick={removeTodo}>\r\n                <i style={{color:'blue'}} className=\" fa fa-trash-alt\"></i>\r\n            </span>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Todo;\r\n"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,QAAT,QAAyB,WAAzB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AAEA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,8BAArC;;;AAEA,MAAMC,IAAI,GAAG,QAAY;EAAA;;EAAA,IAAX;IAACC;EAAD,CAAW;EAErB,MAAM;IAACC,KAAD;IAAOC;EAAP,IAAiBT,UAAU,CAACG,YAAD,CAAjC;EAEA,MAAM,CAACO,OAAD,EAASC,UAAT,IAAqBV,QAAQ,CAACM,IAAI,CAACG,OAAN,CAAnC;;EAEA,MAAME,KAAK,GAAC,YAAU;IAClB,IAAG;MACC,MAAMC,MAAM,GAAC,MAAMR,QAAQ,CAACE,IAAI,CAACO,GAAN,EAAUC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAV,CAA3B;;MACA,IAAGH,MAAM,CAACI,MAAP,KAAgB,GAAnB,EAAuB;QACnBR,QAAQ,CAACS,KAAK,IAAE;UACZA,KAAK,GAACL,MAAM,CAACN,IAAb;QACH,CAFO,CAAR;QAGAI,UAAU,CAACO,KAAK,IAAE,CAACA,KAAT,CAAV;MACH;IACJ,CARD,CAQC,OAAMC,GAAN,EAAU;MACPC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,QAAJ,CAAaf,IAAzB;IACH;EACJ,CAZD;;EAcA,MAAMgB,UAAU,GAAG,YAAU;IACzB,MAAMC,QAAQ,GAAC,CAAC,GAAGhB,KAAJ,CAAf;;IACA,IAAG;MACCC,QAAQ,CAACS,KAAK,IAAEA,KAAK,CAACO,MAAN,CAAaC,IAAI,IAAEA,IAAI,CAACZ,GAAL,KAAWP,IAAI,CAACO,GAAnC,CAAR,CAAR;MAEA,MAAMD,MAAM,GAAC,MAAMT,UAAU,CAACG,IAAI,CAACO,GAAN,EAAUC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAV,CAA7B;MACAd,KAAK,CAACyB,IAAN,CAAW,2BAAX,EAAuC;QAACC,IAAI,EAAC;MAAN,CAAvC;;MACA,IAAIf,MAAM,CAACI,MAAP,KAAgB,GAApB,EAAwB;QACpBR,QAAQ,CAACe,QAAD,CAAR;MACH;IACJ,CARD,CAQC,OAAML,GAAN,EAAU;MACPV,QAAQ,CAACe,QAAD,CAAR;MACAJ,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,QAAJ,CAAaf,IAAzB;IACH;EACJ,CAdD;;EAgBA,oBACI;IAAI,SAAS,EAAC,gJAAd;IAAA,wBACI;MAAK,SAAS,EAAC,2BAAf;MAAA,uBACI;QAAI,KAAK,EAAE;UAACsB,cAAc,EAACnB,OAAO,GAAC,cAAD,GAAgB;QAAvC,CAAX;QAA2D,OAAO,EAAEE,KAApE;QAAA,UAA4EL,IAAI,CAACuB;MAAjF;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAII;MAAM,OAAO,EAAEP,UAAf;MAAA,uBACI;QAAG,KAAK,EAAE;UAACQ,KAAK,EAAC;QAAP,CAAV;QAA0B,SAAS,EAAC;MAApC;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAUH,CA9CD;;GAAMzB,I;UAIyBL,Q;;;KAJzBK,I;AAgDN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}